(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[592],{87901:function(e,r,t){Promise.resolve().then(t.bind(t,76846)),Promise.resolve().then(t.bind(t,42982)),Promise.resolve().then(t.bind(t,9866)),Promise.resolve().then(t.bind(t,60310)),Promise.resolve().then(t.bind(t,6023)),Promise.resolve().then(t.bind(t,82904)),Promise.resolve().then(t.bind(t,74569)),Promise.resolve().then(t.t.bind(t,72972,23)),Promise.resolve().then(t.bind(t,25562))},25562:function(e,r,t){"use strict";t.d(r,{default:function(){return F}});var n=t(57437),s=t(77789),i=t(75147);t(97379);var l=t(60113),o=t(6023);function a(e){let{label:r,payload:t}=e;if(!t)return null;let i=[...t].reverse();return(0,n.jsxs)(l.X,{px:"md",py:"sm",withBorder:!0,shadow:"md",radius:"md",children:[(0,n.jsx)(o.Text,{fw:500,mb:5,children:r}),(0,s.X)(i).map(e=>(0,n.jsxs)(o.Text,{c:e.color,fz:"sm",children:[e.name,": ","F"===e.name?Math.round((e.value+e.payload.W)/e.payload.avgGPA*1e3)/10:"W"===e.name?-Math.round(e.value/e.payload.avgGPA*1e3)/10:Math.round(e.value/e.payload.avgGPA*1e3)/10,"%"]},e.name))]})}let c=(e,r,t)=>(e*t+r)/(t+1);function d(e){let{sections:r}=e,t={Spring:0,"Summer I":1,"Summer II":2,Fall:3,Winter:4},s=Object.values(r.map(e=>{let r=e.gradeData;return{_key:Number(e.year+""+t[e.term]),term:"".concat(e.term," ").concat(e.year),numberSections:1,avgGPA:e.gpa,A:r[0]+r[1],B:r[2]+r[3]+r[4],C:r[5]+r[6]+r[7],D:r[8]+r[9]+r[10],F:r[11],W:r[12]}}).reduce((e,r)=>(e[r.term]?(e[r.term].avgGPA=c(e[r.term].avgGPA,r.avgGPA,e[r.term].numberSections),e[r.term].A=c(e[r.term].A,r.A,e[r.term].numberSections),e[r.term].B=c(e[r.term].B,r.B,e[r.term].numberSections),e[r.term].C=c(e[r.term].C,r.C,e[r.term].numberSections),e[r.term].D=c(e[r.term].D,r.D,e[r.term].numberSections),e[r.term].F=c(e[r.term].F,r.F,e[r.term].numberSections),e[r.term].W=c(e[r.term].W,r.W,e[r.term].numberSections),e[r.term].numberSections+=1):e[r.term]={...r},e),{})).sort((e,r)=>e._key-r._key);return s.forEach((e,r)=>{s[r].avgGPA=Math.round(100*e.avgGPA)/100,s[r].A=10*e.A/10*s[r].avgGPA/100,s[r].B=10*e.B/10*s[r].avgGPA/100,s[r].C=10*e.C/10*s[r].avgGPA/100,s[r].D=10*e.D/10*s[r].avgGPA/100,s[r].W=-(10*e.W)/10*s[r].avgGPA/100,s[r].F=10*e.F/10*s[r].avgGPA/100-s[r].W}),(0,n.jsx)(i.T,{h:300,data:s,dataKey:"term",type:"stacked",tooltipProps:{content:e=>{let{label:r,payload:t}=e;return(0,n.jsx)(a,{label:r,payload:t})}},curveType:"monotone",xAxisLabel:"Term",yAxisLabel:"GPA",yAxisProps:{domain:[-1,4],ticks:[0,1,2,3,4]},series:[{name:"W",color:"black"},{name:"F",color:"red.6"},{name:"D",color:"orange.6"},{name:"C",color:"yellow.6"},{name:"B",color:"green.6"},{name:"A",color:"cyan.6"}]})}var u=t(2265),m=t(65927),h=t(78289),x=t(91653),v=t(28552),g=t(80258),p=t(9866),b=t(27648),j=t(95447),A=t(21533),S=t(90944);function f(e){let{children:r,reversed:t,sorted:s,onSort:i}=e,l=s?t?j.Z:A.Z:S.Z;return(0,n.jsx)(m.i.Th,{children:(0,n.jsx)(h.k,{onClick:i,style:{width:"100%"},children:(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(o.Text,{fw:500,fz:"sm",children:r}),(0,n.jsx)(l,{style:{width:(0,v.h)(16),height:(0,v.h)(16)},stroke:1.5})]})})})}function y(e){let{sections:r}=e,t=e=>{let r=e.split("-"),t=r.shift();return r.push(t),r.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},s=r.reduce((e,r)=>{let t=e[r.instructorName];t||(e[r.instructorName]={numberSections:0,enrollment:0,A:[],B:[],C:[],D:[],F:[],W:[],gpaSum:0,recentTerm:0},t=e[r.instructorName]);let n=r.gradeData;return t.numberSections++,t.gpaSum+=r.gpa,t.enrollment+=r.enrollment,t.A.push(n[0]+n[1]),t.B.push(n[2]+n[3]+n[4]),t.C.push(n[5]+n[6]+n[7]),t.D.push(n[8]+n[9]+n[10]),t.F.push(n[11]),t.W.push(n[12]),r.year>t.recentTerm&&(t.recentTerm=r.year),e},{}),[i,o]=(0,u.useState)(null),[a,c]=(0,u.useState)(""),d=e=>{let r="desc";i&&i.key===e&&"desc"===i.direction&&(r="asc"),o({key:e,direction:r})},h=["A","B","C","D","F","W"],x=Object.entries(s).filter(e=>{let[r]=e;return r.toLowerCase().includes(a.toLowerCase())}).map(e=>{let[r,t]=e,n=h.reduce((e,r)=>{let n=t[r].reduce((e,r)=>e+r,0)/t.numberSections;return e[r]=n,e},{}),s=t.gpaSum/t.numberSections;return{instructor:r,enrollment:t.enrollment,numberSections:t.numberSections,recentTerm:t.recentTerm,avgGrades:n,avgGPA:s}});null!==i&&x.sort((e,r)=>{let n="",s="";if("instructor"===i.key)n=t(r.instructor.toLowerCase()),s=t(e.instructor.toLowerCase());else if("numberSections"===i.key)n=e.numberSections,s=r.numberSections;else if("enrollment"===i.key)n=e.enrollment,s=r.enrollment;else if("recentTerm"===i.key)n=e.recentTerm,s=r.recentTerm;else if(i.key.startsWith("grade_")){let t=h[parseInt(i.key.split("_")[1],10)];n=e.avgGrades[t],s=r.avgGrades[t]}else"avgGPA"===i.key&&(n=e.avgGPA,s=r.avgGPA);return n<s?"asc"===i.direction?-1:1:n>s?"asc"===i.direction?1:-1:0});let v=x.map(e=>{let r=e.avgGPA.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2});return(0,n.jsxs)(m.i.Tr,{children:[(0,n.jsx)(m.i.Td,{children:(0,n.jsx)(b.default,{href:"../instructors/".concat(e.instructor),style:{color:"#cf4420",textDecoration:"underline"},children:t(e.instructor)})}),(0,n.jsx)(m.i.Td,{children:e.recentTerm}),h.map(r=>(0,n.jsxs)(m.i.Td,{children:[e.avgGrades[r].toFixed(1),"%"]},r)),(0,n.jsx)(m.i.Td,{children:r}),(0,n.jsx)(m.i.Td,{children:e.numberSections}),(0,n.jsx)(m.i.Td,{children:e.enrollment})]},e.instructor)});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.o,{placeholder:"Search for an instructor",value:a,onChange:e=>c(e.currentTarget.value),mb:"md",w:300}),(0,n.jsx)(l.X,{withBorder:!0,radius:"lg",style:{overflow:"hidden"},children:(0,n.jsx)(p.ScrollArea.Autosize,{mah:500,type:"scroll",scrollbarSize:8,offsetScrollbars:!0,children:(0,n.jsxs)(m.i,{stickyHeader:!0,horizontalSpacing:"sm",verticalSpacing:"xs",miw:800,style:{tableLayout:"fixed"},children:[(0,n.jsx)(m.i.Thead,{children:(0,n.jsxs)(m.i.Tr,{style:{boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},children:[(0,n.jsx)(f,{sorted:(null==i?void 0:i.key)==="instructor",reversed:(null==i?void 0:i.direction)==="desc",onSort:()=>d("instructor"),children:"Instructor"}),(0,n.jsx)(f,{sorted:(null==i?void 0:i.key)==="recentTerm",reversed:(null==i?void 0:i.direction)==="desc",onSort:()=>d("recentTerm"),children:"Most Recent Term"}),h.map((e,r)=>(0,n.jsxs)(f,{sorted:(null==i?void 0:i.key)==="grade_".concat(r),reversed:(null==i?void 0:i.direction)==="desc",onSort:()=>d("grade_".concat(r)),children:[e," (%)"]},e)),(0,n.jsx)(f,{sorted:(null==i?void 0:i.key)==="avgGPA",reversed:(null==i?void 0:i.direction)==="desc",onSort:()=>d("avgGPA"),children:"GPA"}),(0,n.jsx)(f,{sorted:(null==i?void 0:i.key)==="numberSections",reversed:(null==i?void 0:i.direction)==="desc",onSort:()=>d("numberSections"),children:"Sections Taught (#)"}),(0,n.jsx)(f,{sorted:(null==i?void 0:i.key)==="enrollment",reversed:(null==i?void 0:i.direction)==="desc",onSort:()=>d("enrollment"),children:"Total Enrollment (#)"})]})}),(0,n.jsx)(m.i.Tbody,{children:v})]})})})]})}var T=t(99962),P=t(60310),k=t(42982),G=t(76846),C=t(82904);function F(e){let{course:r}=e,t=r.sections,[s,i]=(0,u.useState)(r.sections),[l,a]=(0,u.useState)("30"),c=(e,r)=>{a(e);let t=2023-parseInt(e);i(r.filter(e=>parseInt(e.id.substring(0,4))>t))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T.s,{value:l,onChange:e=>c(e,t),data:[{label:"Last 3 Years",value:"3"},{label:"Last 5 Years",value:"5"},{label:"Last 10 Years",value:"10"},{label:"All Years",value:"30"}],size:"sm",radius:"xl",color:"#f05400",style:{marginRight:"1%"}}),(0,n.jsx)(P.Space,{h:"sm"}),(0,n.jsxs)(k.Flex,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0 20px"},children:[(0,n.jsxs)(o.Text,{children:[(0,n.jsx)("strong",{children:"Sections Taught: "}),null===s?"N/A":s.length]}),(0,n.jsxs)(o.Text,{children:[(0,n.jsx)("strong",{children:" Average GPA: "}),"  ",(()=>{if(null==s||!(s.length>0))return"N/A";{let e=(s.reduce((e,r)=>e+(r.gpa||0),0)/s.length).toFixed(2),r=function(e){if(e>=3.7)return"A";if(e>=3.3)return"A-";if(e>=3)return"B+";if(e>=2.7)return"B";if(e>=2.3)return"B-";if(e>=2)return"C+";if(e>=1.7)return"C";else if(e>=1.3)return"C-";else if(e>=1)return"D+";else if(e>=.7)return"D";else return"F"}(parseFloat(e));return"".concat(e," (").concat(r,")")}})()]}),(0,n.jsxs)(o.Text,{children:[(0,n.jsx)("strong",{children:" Strict A Rate (No A-) : "}),"  ",null!=s&&s.length>0?(s.reduce((e,r)=>e+(r.gradeData[0]||0),0)/s.length).toFixed(2):"N/A","%"]}),(0,n.jsxs)(o.Text,{children:[(0,n.jsx)("strong",{children:" Average Withdrawal Rate: "}),"  ",null!=s&&s.length>0?(s.reduce((e,r)=>e+(r.gradeData[12]||0),0)/s.length).toFixed(2):"N/A","%"]})]}),(0,n.jsx)(P.Space,{h:"xs"}),(0,n.jsx)(G.Divider,{}),(0,n.jsx)(P.Space,{h:"xs"}),(0,n.jsx)(y,{sections:s}),(0,n.jsx)(C.Title,{order:2,my:20,children:"Grade Distribution Over Time"}),(0,n.jsx)(d,{sections:s})]})}}},function(e){e.O(0,[202,851,503,933,780,856,971,117,744],function(){return e(e.s=87901)}),_N_E=e.O()}]);