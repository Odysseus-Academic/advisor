generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Group {
  id         Int      @id
  hash       String   @unique
  type       Boolean?
  coreqs     String
  course     Course?
  requires   Group[]  @relation("GroupReqs")
  requiredBy Group[]  @relation("GroupReqs")
}

model Course {
  id                 String    @id
  subject            String
  code               String
  level              Int
  title              String?
  repeatability      String?
  description        String?
  pathways           String?
  hours              String?
  groupId            Int?      @unique
  group              Group?    @relation(fields: [groupId], references: [id])
  sections           Section[]
  crosslist          Course[]  @relation("Crosslist")
  crosslistSymmetric Course[]  @relation("Crosslist")
}

model Section {
  id           String  @id
  instructorId Int
  course_id    String
  credits      String
  crn          Int
  enrollment   Int
  gpa          Float
  term         String
  title        String
  withdrawals  Int
  year         Int
  gradeData    Float[]
  course       Course  @relation(fields: [course_id], references: [id])
}
